extends ../layout.jade

block styles
   link(href="/assets/css/bootstrap-switch.min.css", rel="stylesheet")
block scripts
   script(src="/assets/js/bootstrap-switch.min.js")
   script(src="/assets/js/zeroclipboard.min.js")
   script(src="/assets/js/clients.js")

block content
   h2 Client Details

   p
      a(href="/clients") Back to clients

   p
      form.form-horizontal(method="POST", action="/clients/#{client.id}")
         div.form-group
            label.col-md-2.control-label(for="name") Name
            div.col-md-10
               input#name.form-control(type="text", name="name", value="#{client.name}" placeholder="Enter client name")

         div.form-group
            label.col-md-2.control-label(for="email") Contact address
            div.col-md-10
               input#email.form-control(type="email", name="email", value="#{client.email}" placeholder="Enter contact email address")

         div.form-group
            label.col-md-2.control-label(for="redirect_uri") Redirect URL
            div.col-md-10
               input#redirect_uri.form-control(type="url", name="redirect_uri", value="#{client.redirect_uri}")

         div.form-group
            div.col-md-offset-2.col-md-10
               button.btn.btn-default.btn-sm(type="submit") Save changes

      hr

      h3 Access Credentials

      p
         | Use the
         strong  client id
         |  and
         strong  client secret
         |  below to access the services using this client. If the client is not secure, such as a
         | mobile device, then do not use the client secret. Just use the client id to access the
         | services.

      form.form-horizontal
         div.form-group.input-grou
            label.col-md-2.control-label(for="client_id") Client id
            div.col-md-10.input-group
               input#client_id.form-control(type="text", name="client_id", placeholder="#{client.id}", readonly=true)
               span.input-group-btn
                  button#copy-client-id.btn.btn-default(type="button", data-clipboard-text="#{client.id}")
                     span.glyphicon.glyphicon-copy(aria-hidden="true")

         div.form-group
            label.col-md-2.control-label(for="secret") Client secret
            div.col-md-10.input-group
               span.input-group-btn
                  button#refresh-secret.btn.btn-default(type="button", data-client-id="#{client.id}", data-target="#secret")
                     span.glyphicon.glyphicon-refresh(aria-hidden="true")

               input#secret.form-control(type="text", name="secret", placeholder="#{client.secret}", readonly=true)

               span.input-group-btn
                  button#copy-client-secret.btn.btn-default(type="button", data-clipboard-text="#{client.secret}")
                     span.glyphicon.glyphicon-copy(aria-hidden="true")

      hr

      h3 Access Control

      p
         | Enable/disable client access to services. The client is still registered with the service, and its
         | information can be modified.

      input(type="checkbox", name="enabled", checked=client.enabled, data-client-id="#{client.id}" data-size="mini", data-on-text="Enabled", data-off-text="Disabled")

      hr

      h3 Delete Client

      p Once the client has been deleted, this operation cannot be undone.

      button.btn.btn-sm.btn-block.btn-danger(type="button", data-toggle="modal", data-target="#myModal") I completely understand, delete the client

      div.modal.fade(id="myModal",tabindex="-1",role="dialog",aria-labelledby="myModalLabel")
         div.modal-dialog(role="document")
            div.modal-content
               div.modal-header
                  button.close(type="button", data-dismiss="modal", aria-label="Close")
                     span(aria-hidden="true") &times;

                  h4.modal-title Confirm deletion

               div.modal-body
                  p
                     strong Warning!
                     |  Once you delete the client, you cannot undo the operation. Please make sure this is
                     | what you really want to do.

                  form.form-horizontal
                     div.form-group
                        label.col-md-3.control-label Client name
                        div.col-md-9
                           p.form-control-static #{client.name}

                     div.form-group
                        label.col-md-3.control-label Contact address
                        div.col-md-9
                           p.form-control-static #{client.email}

               div.modal-footer
                  button#delete-client.btn.btn-primary.btn-block.btn-danger(type="button", data-dismiss="modal", data-client-id="#{client.id}") Yes, I really want to delete the client
